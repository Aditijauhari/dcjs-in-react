(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,n){e.exports=n(85)},34:function(e,t,n){},35:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},85:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(25),i=n.n(o),c=(n(34),n(9)),l=n(10),u=n(12),s=n(11),d=n(13),m=(n(35),n(26)),h=n.n(m),f=n(27),g=n.n(f),v=new h.a(g.a),b=v.rhythm,p=n(3),x=n(2),E=n(1),y=n(17),j=(n(21),r.a.createContext("CXContext")),w=Object(E.f)("%m/%d/%Y"),O=Object(E.i)("%m/%d/%Y"),k=Object(E.b)(".2f"),C=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={loading:!1,hasNDX:!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.hasNDX||this.state.loading||(this.setState({loading:!0}),Object(E.a)("./ndx.csv").then(function(t){t.forEach(function(e){e.dd=O(e.date),e.month=Object(E.g)(e.dd),e.close=+e.close,e.open=+e.open}),e.ndx=y(t),e.setState({loading:!1,hasNDX:!0})}))}},{key:"render",value:function(){return this.state.hasNDX?r.a.createElement(j.Provider,{value:{ndx:this.ndx}},r.a.createElement("div",{ref:this.parent},this.props.children)):null}}]),t}(r.a.Component),I=n(28),G=n(4),A=function(e){var t=Object(G.css)({padding:b(.1),display:"inline",cursor:"pointer",float:"right","&:hover":{background:"#ddd"}});return r.a.createElement("span",Object.assign({},t,{onClick:function(){e.chart.filterAll(),x.redrawAll()}}),"reset")},M=function(e){var t=r.a.useContext(j),n=r.a.useState(null),a=Object(I.a)(n,2),o=a[0],i=a[1],c=t.ndx,l=r.a.useRef(null);r.a.useEffect(function(){var t=e.chartFunction(l.current,c);t.render(),i(t)},1);var u=Object(G.css)({width:"100%",height:"auto",boxSizing:"border-box",padding:b(1),"& label":{textTransform:"capitalize",textDecoration:"underline"}});return r.a.createElement("div",Object.assign({ref:l},u),r.a.createElement(A,{chart:o}),r.a.createElement("label",null,e.title))},F=function(e,t){return++e.count,e.absGain+=t.close-t.open,e.fluctuation+=Math.abs(t.close-t.open),e.sumIndex+=(t.open+t.close)/2,e.avgIndex=e.sumIndex/e.count,e.percentageGain=e.avgIndex?e.absGain/e.avgIndex*100:0,e.fluctuationPercentage=e.avgIndex?e.fluctuation/e.avgIndex*100:0,e},D=function(e,t){return--e.count,e.absGain-=t.close-t.open,e.fluctuation-=Math.abs(t.close-t.open),e.sumIndex-=(t.open+t.close)/2,e.avgIndex=e.count?e.sumIndex/e.count:0,e.percentageGain=e.avgIndex?e.absGain/e.avgIndex*100:0,e.fluctuationPercentage=e.avgIndex?e.fluctuation/e.avgIndex*100:0,e},R=function(){return{count:0,absGain:0,fluctuation:0,fluctuationPercentage:0,sumIndex:0,avgIndex:0,percentageGain:0}},T=function(e,t){var n=t.dimension(function(e){return Object(E.j)(e.dd).getFullYear()}),a=n.group().reduce(F,D,R),r=x.bubbleChart(e);return r.transitionDuration(1500).dimension(n).group(a).colors(E.e[9]).colorAccessor(function(e){return e.value.absGain}).keyAccessor(function(e){return e.value.absGain}).valueAccessor(function(e){return e.value.percentageGain}).radiusValueAccessor(function(e){return e.value.fluctuationPercentage}).maxBubbleRelativeSize(.3).x(Object(E.c)().domain([-2500,2500])).y(Object(E.c)().domain([-100,100])).r(Object(E.c)().domain([0,4e3])).elasticY(!1).elasticX(!0).yAxisPadding(100).xAxisPadding("10%").renderHorizontalGridLines(!0).renderVerticalGridLines(!0).xAxisLabel("Index Gain").yAxisLabel("Index Gain %").renderLabel(!0).label(function(e){return e.key}).renderTitle(!0).title(function(e){return[e.key,"Index Gain: "+k(e.value.absGain),"Index Gain in Percentage: "+k(e.value.percentageGain)+"%","Fluctuation / Index Ratio: "+k(e.value.fluctuationPercentage)+"%"].join("\n")}).yAxis().tickFormat(function(e){return"".concat(e,"%")}),r},L=function(e){return r.a.createElement(M,{chartFunction:T,title:"Yearly Fluctuation"})},P=function(e,t){var n=t.dimension(function(e){return e.open>e.close?"Loss":"Gain"}),a=n.group(),r=t.groupAll(),o=x.pieChart(e);return o.dimension(n).group(a).label(function(e){if(o.hasFilter()&&!o.hasFilter(e.key))return e.key+"(0%)";var t=e.key;return r.value()&&(t+="("+Math.floor(e.value/r.value()*100)+"%)"),t}).renderLabel(!0).innerRadius(4).transitionDuration(500).colorAccessor(function(e){return e.value}),o},S=function(e){return r.a.createElement(M,{chartFunction:P,title:"Gains or Losses"})},Y=function(e,t){var n=t.dimension(function(e){var t=e.dd.getMonth();return t<=2?"Q1":t>2&&t<=5?"Q2":t>5&&t<=8?"Q3":"Q4"}),a=n.group().reduceSum(function(e){return e.volume}),r=x.pieChart(e);return r.innerRadius(30).dimension(n).group(a),r},B=function(e){return r.a.createElement(M,{chartFunction:Y,title:"Quarterly Breakdown"})},N=function(e,t){var n=x.rowChart(e),a=t.dimension(function(e){var t=e.dd.getDay();return t+"."+["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t]}),r=a.group();return n.dimension(a).group(r),n},W=function(e){return r.a.createElement(M,{chartFunction:N,title:"Weekday"})},z=function(e,t){var n=x.barChart(e),a=t.dimension(function(e){return Math.round((e.close-e.open)/e.open*100)}),r=a.group();return n.dimension(a).group(r).gap(1).x(Object(E.c)().domain([-25,25])).valueAccessor(function(e){return Math.log10(1+e.value)}).centerBar(!0).round(x.round.floor).renderHorizontalGridLines(!0).filterPrinter(function(e){var t=e[0],n="";return n+=k(t[0])+"% -> "+k(t[1])+"%"}),n.xAxis().tickFormat(function(e){return e+"%"}),n.yAxis().ticks(5),n},X=function(e){return r.a.createElement(M,{chartFunction:z,title:"Return Distribution"})},H=function(e,t){return++e.days,e.total+=(t.open+t.close)/2,e.avg=Math.round(e.total/e.days),e},Q=function(e,t){return--e.days,e.total-=(t.open+t.close)/2,e.avg=e.days?Math.round(e.total/e.days):0,e},J=function(){return{days:0,total:0,avg:0}},U=function(e,t){var n=t.dimension(function(e){return e.month}),a=x.lineChart(e),r=n.group().reduceSum(function(e){return Math.abs(e.close-e.open)}),o=n.group().reduce(H,Q,J);return a.dimension(n).mouseZoomable(!0).transitionDuration(1e3).x(Object(E.d)().domain([new Date(1985,0,1),new Date(2012,11,31)])).round(E.g.round).xUnits(E.h).elasticY(!0).renderHorizontalGridLines(!0).legend(x.legend().x(800).y(10).itemHeight(13).gap(5)).brushOn(!1).group(o,"Monthly Index Average").valueAccessor(function(e){return e.value.avg}).stack(r,"Monthly Index Move",function(e){return e.value}).title(function(e){var t=e.value.avg?e.value.avg:e.value;return isNaN(t)&&(t=0),w(e.key)+"\n"+k(t)}),a},V=function(e){return r.a.createElement(M,{chartFunction:U,title:"Monthly Price Moves"})},q=function(e,t){var n=x.dataTable(e),a=t.dimension(function(e){return e.dd});return n.dimension(a).group(function(e){var t=Object(E.b)("02d");return e.dd.getFullYear()+"/"+t(e.dd.getMonth()+1)}).columns(["date","open","close",{label:"Change",format:function(e){return k(e.close-e.open)}},"volume"]).sortBy(function(e){return e.dd}).on("renderlet",function(e){e.selectAll(".dc-table-group").classed("info",!0)}),n},Z=Object(G.css)({"& tr":{"&:hover":{background:"#dddd"}},"& td":{textAlign:"left",borderTop:"1px solid #ddd"}}),$=function(e){return r.a.createElement(M,{chartFunction:q,styles:Z,title:"Summary Table"})},K=function(e){var t=Object(G.css)({padding:"1rem",marginTop:"2rem"});return r.a.createElement("div",t,r.a.createElement(C,null,r.a.createElement(p.Row,null,r.a.createElement(p.Col,{md:12},r.a.createElement(L,null))),r.a.createElement(p.Row,null,r.a.createElement(p.Col,{md:7},r.a.createElement(p.Row,null,r.a.createElement(p.Col,{md:12},r.a.createElement(V,null))),r.a.createElement(p.Row,null,r.a.createElement(p.Col,{md:6},r.a.createElement(S,null)),r.a.createElement(p.Col,{md:6},r.a.createElement(X,null)),r.a.createElement(p.Col,{md:6},r.a.createElement(B,null)),r.a.createElement(p.Col,{md:6},r.a.createElement(W,null)))),r.a.createElement(p.Col,{md:5,style:{overflowY:"scroll",maxHeight:"70vh",width:"100%"}},r.a.createElement($,null)))))},_=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Using DC.js in React"),r.a.createElement("div",null,r.a.createElement("a",{href:"http://dc-js.github.io/dc.js/"}," DC.js ")," is a charting library based on",r.a.createElement("a",{href:"http://square.github.io/crossfilter/"}," crossfilter ")," and ",r.a.createElement("a",{href:"https://d3js.org/"},"d3. "),r.a.createElement("br",null),"It allows creating interactive charts with a significant wow factor",r.a.createElement("br",null),r.a.createElement("a",{href:"https://www.lighttag.io/blog/react-dc-js"},"Read the Blog Post!")),r.a.createElement("h2",null,"What is this ?"),r.a.createElement("div",null,"This page shows an implementation of the canonical dc.js example, in React. We love dc.js and we love React, but it sometimes felt they did not love each other. The implementation demonstrated here uses React hooks to get everyone to play along"),r.a.createElement("h2",null,"Who Made This ?"),r.a.createElement("div",null,"LightTag! LightTag makes tools to ",r.a.createElement("a",{href:"https://www.lighttag.io"},"label NLP data")," with teams."),r.a.createElement("h2",null,"Click on Things in These Charts"))},ee=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=Object(G.css)({background:"#ddd"});return v.injectStyles(),r.a.createElement("div",e,r.a.createElement(p.Grid,null,r.a.createElement(_,null),r.a.createElement(K,null)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.2016590b.chunk.js.map